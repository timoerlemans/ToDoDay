<div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow mb-8">
  <h2 id="form-title" class="text-xl font-semibold text-gray-900 dark:text-white mb-3">
    Nieuwe taak
  </h2>

  <form
    [formGroup]="taskForm"
    (ngSubmit)="onSubmit()"
    class="space-y-4"
    role="form"
    aria-labelledby="form-title"
  >
    <div>
      <label for="title" class="block text-sm font-medium text-gray-700 dark:text-gray-300"
        >Titel</label
      >
      <input
        type="text"
        id="title"
        formControlName="title"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
        required
        aria-required="true"
        [attr.aria-invalid]="taskForm.get('title')?.invalid && taskForm.get('title')?.touched"
        [attr.aria-describedby]="
          taskForm.get('title')?.errors?.['required'] && taskForm.get('title')?.touched
            ? 'title-error'
            : null
        "
      />
      @if (taskForm.get('title')?.errors?.['required'] && taskForm.get('title')?.touched) {
        <div id="title-error" class="mt-1 text-sm text-red-600 dark:text-red-400" role="alert">
          Titel is verplicht
        </div>
      }
    </div>

    <div>
      <label for="description" class="block text-sm font-medium text-gray-700 dark:text-gray-300"
        >Beschrijving</label
      >
      <textarea
        id="description"
        formControlName="description"
        rows="3"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
      ></textarea>
    </div>

    <div>
      <label for="priority" class="block text-sm font-medium text-gray-700 dark:text-gray-300"
        >Prioriteit</label
      >
      <select
        id="priority"
        formControlName="priority"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
      >
        <option [value]="TaskPriority.LOW">Laag</option>
        <option [value]="TaskPriority.MEDIUM">Gemiddeld</option>
        <option [value]="TaskPriority.HIGH">Hoog</option>
      </select>
    </div>

    <div>
      <label for="project" class="block text-sm font-medium text-gray-700 dark:text-gray-300"
        >Project</label
      >
      <input
        type="text"
        id="project"
        formControlName="project"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
      />
    </div>

    <div>
      <label for="dueDate" class="block text-sm font-medium text-gray-700 dark:text-gray-300"
        >Vervaldatum</label
      >
      <input
        type="datetime-local"
        id="dueDate"
        formControlName="dueDate"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
      />
    </div>

    <div class="flex justify-end">
      <button
        type="submit"
        [disabled]="taskForm.invalid"
        class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"
        [attr.aria-disabled]="taskForm.invalid"
      >
        Toevoegen
      </button>
    </div>
  </form>
</div>
